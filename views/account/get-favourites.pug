extends ../layouts/main-layout.pug 
include ../mixins/createBlogFlow.pug

block append styles 
    link(rel="stylesheet", href="/css/index.css")

block append content 
    if isAuthenticated
        if (action !== 'undefined' && action === 'deleted')
            .container.common-size
                .alert.alert-danger.text-center Blog favorilerinizden çıkarıldı

        if blogs.length > 0
            
            .container.for-spacing
            
            .container.table-responsive.table-shadow.table-div
                
                table.table.table-hover
                    
                    thead.thead-light
                        
                        tr
                            
                            th(scope="col" colspan="3").mx-auto
                                
                                h5.text-center 
                                    strong.common-text-color  FAVORİLERİM
                   
                    each blog in blogs
                        
                        tbody.mx-auto 
                            
                            tr
                                
                                td
                                    
                                    a(href=`/blog/${blog.urlExt}`).text-decoration-none.common-text-color
                                        span.d-inline-block.text-truncate.pt-1 
                                            strong #{blog.title}   
                                
                                td 
                                    p.text-truncate.pt-1  #{blog.date}
                                
                                td
                                    form(action=`/delete-fav/${blog._id}` method='POST')
                                        input(type="hidden" name="_csrf" value=`${csrfToken}`)
                                        button(type='submit').btn.btn-secondary-outline.border-0.pt-1
                                            img(src="/img/delete.png" width="10" height="10")
        else
            .container.for-spacing

            .container.common-size.mx-auto
                .alert.alert-secondary.text-center Favorilenmiş blog bulunamadı!
